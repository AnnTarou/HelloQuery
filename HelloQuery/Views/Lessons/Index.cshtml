@model IEnumerable<HelloQuery.Models.Lesson>

@{
    Layout = "_LoggedInLayout";
    ViewData["Title"] = "Lesson";
}
<body>
    <div class="col-3">
        <div class="kaitou">

            <!--部分ビュー-->
            <div id="partialview-section">
                <p>@await Html.PartialAsync("_LessonsPartial", (Lesson)ViewBag.SelectedLesson)</p>
            </div>

            <br />

            <!--回答入力欄-->
            <!-- 回答するボタンのフォーム -->
            <table>
                <tr>
                    <td colspan="2">
                        <form method="post" asp-controller="Lessons" asp-action="Answer">
                            <input type="text" name="answer" placeholder="回答を入力してください">
                            <input type="hidden" id="selected-lesson-id" name="lessonId" value="@ViewBag.SelectedLessonId" />
                        </form>
                    </td>
                </tr>

                <tr>
                    <td>
                        <form method="post" asp-controller="Lessons" asp-action="Answer">
                        <input type="submit" value="回答する">
                        </form>
                    </td>
                    <td>
                        <!-- あきらめるボタンのフォーム -->
                        <form method="post" asp-controller="Lessons" asp-action="GiveUp">
                            <input type="hidden" id="selected-lesson-id" name="lessonId" value="@ViewBag.SelectedLessonId" />
                            <input type="submit" value="あきらめる">
                        </form>
                    </td>
                </tr>
            </table>
        </div>
    
        <!--問題一覧-->
        <div class="side">
            <div class="col-9">
                <h4>問題一覧</h4>
                <ul id="lesson-title" style="list-style-type: none;">
                    @foreach (var item in Model)
                    {
                        <li class="lesson" data-id="@item.LessonId" style="cursor: pointer;">@Html.DisplayFor(modelItem => item.Title)</li>
                    }
                </ul>
            </div>
        </div>
    </div>
</body>

<!--JSファイルの呼び出し-->
@section Scripts {
    <script src="~/js/design.js"></script>
    <script src="~/js/lessonpartialview.js"></script>
}

<style>
    /*サイドバー(問題一覧)*/
    .side {
        font-size:18px;
        line-height:2.5;
        position: absolute;
		background-color: #8997b8;
		top: 57px;
        right: -1px;
        width:17%;
        height:100%;
        aspect-ratio: 5 / 3;
    }


    .kaitou{
        position: absolute;
        top: 450px;
        left: 400px;
    }
</style>